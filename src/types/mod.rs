// Phase 2/3: Type system implementation